<mat-card *ngIf="requestForQuote">

  <mat-card-header (click)="panel.manager.toggle('edit')" style="cursor: pointer;">
    <div mat-card-avatar>
      <mat-icon style="font-size: 36px">business</mat-icon>
    </div>
    <mat-card-title>{{requestForQuote.RequestNumber}}</mat-card-title>
    <mat-card-subtitle>
       <div>{{requestForQuote.RequestState?.Name}}</div>
       <div>{{requestForQuote.Description}}</div>
    </mat-card-subtitle>

    <mat-card-subtitle>
      <div>last modified: {{ requestForQuote.LastModifiedDate | date:'d/M/yyyy, HH:mm' }} by {{ requestForQuote.LastModifiedBy?.displayName}}</div>
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <div *ngIf="requestForQuote.Originator" (click)="navigation.overview(requestForQuote.Originator)" style="cursor: pointer;">
      <div style="color: grey">
        Requested by
      </div>
      <div>
        {{requestForQuote.Originator?.displayName}}
      </div>
    </div>

    <div *ngIf="requestForQuote.ContactPerson" (click)="navigation.overview(requestForQuote.ContactPerson)" style="cursor: pointer;">
      <div style="color: grey">
        ContactPerson
      </div>
      <div>
        {{requestForQuote.ContactPerson?.displayName}}
      </div>
    </div>

    <div *ngIf="quote" (click)="navigation.overview(quote)" style="cursor: pointer;">
      <div style="color: grey">
        Quote
      </div>
      <div>
        {{quote.QuoteNumber}}
      </div>
    </div>
  </mat-card-content>


  <mat-card-actions>
    <button *ngIf="requestForQuote.CanExecuteCancel" mat-button type="button" (click)="cancel()">Cancel</button>
    <button *ngIf="requestForQuote.CanExecuteReject" mat-button type="button" (click)="reject()">Reject</button>
    <button *ngIf="requestForQuote.CanExecuteSubmit" mat-button type="button" (click)="submit()">Submit</button>
    <button *ngIf="requestForQuote.CanExecuteHold" mat-button type="button" (click)="hold()">Hold</button>
    <button *ngIf="requestForQuote.CanExecuteCreateQuote" mat-button type="button" (click)="createQuote()">Create Quote</button>
  </mat-card-actions>

</mat-card>
