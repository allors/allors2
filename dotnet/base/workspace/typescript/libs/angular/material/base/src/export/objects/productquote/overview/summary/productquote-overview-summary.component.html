<mat-card *ngIf="productQuote">

  <mat-card-header (click)="panel.manager.toggle('edit')" style="cursor: pointer;">
    <div mat-card-avatar>
      <mat-icon style="font-size: 36px">business</mat-icon>
    </div>
    <mat-card-title>{{productQuote.QuoteNumber}}</mat-card-title>
    <mat-card-subtitle>
      <div>
        {{productQuote.QuoteState?.Name}}
      </div>

    </mat-card-subtitle>

    <mat-card-subtitle>
      <div>last modified: {{ productQuote.LastModifiedDate | date:'d/M/yyyy, HH:mm'}} by {{ productQuote.LastModifiedBy?.displayName}}</div>
    </mat-card-subtitle>

  </mat-card-header>

  <mat-card-content>
    <div *ngIf="productQuote.Receiver" (click)="navigation.overview(productQuote.Receiver)" style="cursor: pointer;">
      <div style="color: grey">
        Quoted to
      </div>
      <div>
        {{productQuote.Receiver?.displayName}}
      </div>
    </div>

    <div *ngIf="productQuote.ContactPerson" (click)="navigation.overview(productQuote.ContactPerson)" style="cursor: pointer;">
      <div style="color: grey">
        ContactPerson
      </div>
      <div>
        {{productQuote.ContactPerson?.displayName}}
      </div>
    </div>

    <div *ngIf="request" (click)="navigation.overview(request)" style="cursor: pointer;">
      <div style="color: grey">
        Request
      </div>
      <div>
        {{request.RequestNumber}}
      </div>
    </div>

    <div *ngIf="salesOrder" (click)="navigation.overview(salesOrder)" style="cursor: pointer;">
      <div style="color: grey">
        SalesOrder
      </div>
      <div>
        {{salesOrder.OrderNumber}}
      </div>
    </div>
  </mat-card-content>


  <mat-card-actions>
    <button *ngIf="productQuote.CanExecuteSetReadyForProcessing" mat-button (click)="setReadyForProcessing()">Ready for processing</button>
    <button *ngIf="productQuote.CanExecuteApprove" mat-button type="button" (click)="approve()">Approve</button>
    <button *ngIf="productQuote.CanExecuteSend" mat-button (click)="send()">Send</button>
    <button *ngIf="productQuote.CanExecuteAccept" mat-button (click)="accept()">Accept</button>
    <button *ngIf="productQuote.CanExecuteRevise" mat-button type="button" (click)="revise()">Revise</button>
    <button *ngIf="productQuote.CanExecuteReopen" mat-button type="button" (click)="reopen()">Reopen</button>
    <button *ngIf="productQuote.CanExecuteReject" mat-button type="button" (click)="reject()">Reject</button>
    <button *ngIf="productQuote.CanExecuteCancel" mat-button type="button" (click)="cancel()">Cancel</button>
    <button *ngIf="productQuote.CanExecuteOrder" mat-button type="button" (click)="order()">Create SalesOrder</button>
    <button mat-button type="button" (click)="print.execute(productQuote)">Print</button>
  </mat-card-actions>

</mat-card>
